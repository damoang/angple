<script lang="ts">
    import favicon from '$lib/assets/favicon.png';
    import { onMount } from 'svelte';
    import { authActions } from '$lib/stores/auth.svelte';
    import ClassicHeader from '../components/classic-header.svelte';
    import ClassicFooter from '../components/classic-footer.svelte';
    import ClassicSidebar from '../components/classic-sidebar.svelte';

    /**
     * Damoang Classic Theme - ì „í†µì ì¸ ì»¤ë®¤ë‹ˆí‹° ë ˆì´ì•„ì›ƒ
     * - 2ë‹¨ ë ˆì´ì•„ì›ƒ
     * - ì‚¬ì´ë“œë°” ìœ„ì¹˜ ì„¤ì • ê°€ëŠ¥ (left/right)
     * - ê·¸ë¦° + ë¸”ë£¨ ìƒ‰ìƒ
     */

    const { children } = $props();

    // í…Œë§ˆ ì„¤ì • (ì¶”í›„ ë™ì ìœ¼ë¡œ ë¡œë“œ)
    const sidebarPosition = 'left';

    onMount(() => {
        console.log('ğŸ¨ Damoang Classic Theme ë ˆì´ì•„ì›ƒ ë§ˆìš´íŠ¸ë¨');
        authActions.initAuth();
    });
</script>

<svelte:head>
    <title>ë‹¤ëª¨ì•™ - Damoang Classic</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href={favicon} />
    <meta name="description" content="ì „í†µì ì¸ ì»¤ë®¤ë‹ˆí‹° ë ˆì´ì•„ì›ƒ" />
</svelte:head>

<div class="flex min-h-screen flex-col bg-gray-50">
    <!-- Header -->
    <ClassicHeader />

    <!-- Breadcrumb -->
    <div class="border-b border-gray-200 bg-white">
        <div class="container mx-auto px-4 py-2">
            <nav class="text-sm text-gray-600">
                <span>í™ˆ</span> > <span class="text-emerald-600">ììœ ê²Œì‹œíŒ</span>
            </nav>
        </div>
    </div>

    <!-- Main Content Area -->
    <div class="container mx-auto flex flex-1 gap-6 px-4 py-6">
        {#if sidebarPosition === 'left'}
            <!-- Left Sidebar -->
            <aside class="hidden w-64 flex-shrink-0 lg:block">
                <ClassicSidebar />
            </aside>
        {/if}

        <!-- Page Content -->
        <main class="min-w-0 flex-1 rounded-lg bg-white p-6 shadow-sm">
            {@render children()}
        </main>

        {#if sidebarPosition === 'right'}
            <!-- Right Sidebar -->
            <aside class="hidden w-64 flex-shrink-0 lg:block">
                <ClassicSidebar />
            </aside>
        {/if}
    </div>

    <!-- Footer -->
    <ClassicFooter />
</div>
