# í˜•ìƒê´€ë¦¬ ê°€ì´ë“œ

Angple í”„ë¡œì íŠ¸ì˜ í˜•ìƒê´€ë¦¬ ì¶©ëŒì„ ë°©ì§€í•˜ê³  ì•ˆì „í•˜ê²Œ ì½”ë“œë¥¼ ë™ê¸°í™”í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ğŸš¨ í”íˆ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤

### 1. ë¹Œë“œ íŒŒì¼ì´ Gitì— ì¶”ì ë¨

**ì¦ìƒ:**

-   `git status`ì—ì„œ `build/`, `.svelte-kit/` íŒŒì¼ì´ ë³´ì„
-   ì»¤ë°‹ ì‹œ ìˆ˜ì²œ ê°œì˜ íŒŒì¼ì´ stagedë¨

**ì›ì¸:**

-   `.gitignore`ì— ë¹Œë“œ íŒŒì¼ì´ ì¶”ê°€ë˜ê¸° ì „ì— ì´ë¯¸ Gitì´ ì¶”ì  ì‹œì‘

**í•´ê²°:**

```bash
# Git ì¶”ì  ì œê±° (íŒŒì¼ì€ ìœ ì§€)
git rm -r --cached build/ .svelte-kit/ apps/web/build/ apps/admin/build/
git commit -m "chore: ë¹Œë“œ íŒŒì¼ ì¶”ì  ì œê±°"
```

### 2. data/ ë””ë ‰í† ë¦¬ ì¶©ëŒ

**ì¦ìƒ:**

-   Pull ì‹œ `data/settings.json` ì¶©ëŒ
-   í…Œë§ˆ/í”ŒëŸ¬ê·¸ì¸ ì—…ë¡œë“œ í›„ Git ë³€ê²½ì‚¬í•­ ë°œìƒ

**ì›ì¸:**

-   `data/` ë””ë ‰í† ë¦¬ê°€ Gitì— ì¶”ì ë¨ (ë™ì  íŒŒì¼ ì €ì¥ì†Œì¸ë°)

**í•´ê²°:**

```bash
# Git ì¶”ì  ì œê±°
git rm -r --cached data/
git commit -m "chore: data ë””ë ‰í† ë¦¬ ì¶”ì  ì œê±°"

# .gitignore í™•ì¸ (/data/ê°€ ìˆëŠ”ì§€)
cat .gitignore | grep "^/data/"
```

### 3. ë¡œì»¬ ë³€ê²½ì‚¬í•­ê³¼ ì›ê²© ì¶©ëŒ

**ì¦ìƒ:**

-   `git pull` ì‹¤íŒ¨: "Your local changes would be overwritten"

**í•´ê²° (ì•ˆì „í•œ ë°©ë²•):**

```bash
# ë°©ë²• 1: ìë™ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)
./scripts/sync.sh

# ë°©ë²• 2: ìˆ˜ë™
git stash                          # ë¡œì»¬ ë³€ê²½ì‚¬í•­ ì„ì‹œ ì €ì¥
git pull origin main --rebase      # ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
git stash pop                      # ë³€ê²½ì‚¬í•­ ë³µì›
```

### 4. ì—¬ëŸ¬ ë””ë ‰í† ë¦¬ì—ì„œ ì‘ì—… í›„ ë™ê¸°í™” ì‹¤íŒ¨

**ì¦ìƒ:**

-   `angple/`ì—ì„œ ì‘ì—… í›„ `angple-prod/`ì— ë°°í¬í–ˆëŠ”ë° ë²„ì „ì´ ì•ˆ ë§ìŒ
-   ìµœì‹  ì½”ë“œê°€ ë°˜ì˜ë˜ì§€ ì•ŠìŒ

**ì›ì¸:**

-   `angple-prod/`ëŠ” Git ì €ì¥ì†Œê°€ ì•„ë‹˜ (ë°°í¬ ì „ìš©)
-   `angple/`ì—ì„œë§Œ Git ì‘ì—…í•´ì•¼ í•¨

**ì˜¬ë°”ë¥¸ ì›Œí¬í”Œë¡œìš°:**

```bash
# âŒ ì˜ëª»ëœ ë°©ë²•
cd /home/damoang/angple-prod
git pull  # angple-prodëŠ” Git ì €ì¥ì†Œ ì•„ë‹˜!

# âœ… ì˜¬ë°”ë¥¸ ë°©ë²•
cd /home/damoang/angple
./scripts/sync.sh           # ìµœì‹  ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
./scripts/deploy.sh         # angple-prod/ì— ë°°í¬
```

---

## âœ… ì˜¬ë°”ë¥¸ ì›Œí¬í”Œë¡œìš°

### 1. ìƒˆ ì‘ì—… ì‹œì‘

```bash
cd /home/damoang/angple
./scripts/new-branch.sh feat/ìƒˆê¸°ëŠ¥ëª…
```

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ìë™ìœ¼ë¡œ:

-   `main` ë¸Œëœì¹˜ì—ì„œ ìµœì‹  ì½”ë“œ pull
-   ìƒˆ ë¸Œëœì¹˜ ìƒì„±

### 2. ì½”ë“œ ìˆ˜ì • í›„ í…ŒìŠ¤íŠ¸

```bash
# ê°œë°œ ì„œë²„ì—ì„œ í…ŒìŠ¤íŠ¸
./scripts/server.sh dev restart

# ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
# https://dev.damoang.net
```

### 3. ì»¤ë°‹ & í‘¸ì‹œ

```bash
git add .
git commit -m "feat: ìƒˆ ê¸°ëŠ¥ ì¶”ê°€"
git push origin feat/ìƒˆê¸°ëŠ¥ëª…
```

### 4. PR ìƒì„± í›„ ë¨¸ì§€

```bash
# GitHubì—ì„œ PR ìƒì„± ë° ë¨¸ì§€
# ë¨¸ì§€ í›„ ë¡œì»¬ ë¸Œëœì¹˜ ì •ë¦¬
./scripts/finish-branch.sh
```

### 5. í”„ë¡œë•ì…˜ ë°°í¬

```bash
git pull origin main        # ìµœì‹  main ê°€ì ¸ì˜¤ê¸°
./scripts/deploy.sh         # web.damoang.net ë°°í¬
```

---

## ğŸ› ï¸ ìœ ìš©í•œ ìŠ¤í¬ë¦½íŠ¸

### server.sh - ì„œë²„ ê´€ë¦¬

```bash
# dev ì„œë²„ ì‹œì‘
./scripts/server.sh dev start

# web ì„œë²„ ì‹œì‘
./scripts/server.sh web start

# ëª¨ë“  ì„œë²„ ì‹œì‘
./scripts/server.sh all start

# ìƒíƒœ í™•ì¸
./scripts/server.sh all status

# ì¬ì‹œì‘
./scripts/server.sh dev restart
```

### sync.sh - ì•ˆì „í•œ ì½”ë“œ ë™ê¸°í™”

```bash
# í˜„ì¬ ë¸Œëœì¹˜ ì—…ë°ì´íŠ¸ (ë¡œì»¬ ë³€ê²½ ë³´ì¡´)
./scripts/sync.sh

# main ë¸Œëœì¹˜ë¡œ ì „í™˜ í›„ ì—…ë°ì´íŠ¸
./scripts/sync.sh main
```

âš ï¸ **--force ì˜µì…˜ì€ ìœ„í—˜í•˜ë¯€ë¡œ ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**
ë¡œì»¬ ë³€ê²½ì‚¬í•­ì„ í¬ê¸°í•˜ê³  ì‹¶ë‹¤ë©´ ë°±ì—… ë¸Œëœì¹˜ë¥¼ ë¨¼ì € ë§Œë“œì„¸ìš”.

**ìë™ìœ¼ë¡œ ì²˜ë¦¬:**

-   ë¡œì»¬ ë³€ê²½ì‚¬í•­ stash
-   ìµœì‹  ì½”ë“œ pull
-   Stash ë³µì›
-   ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ (package.json ë³€ê²½ ì‹œ)
-   ë¹Œë“œ ìºì‹œ ì •ë¦¬

### check-clean.sh - ë°°í¬ ì „ ê²€ì¦

```bash
# ìƒíƒœ í™•ì¸ë§Œ
./scripts/check-clean.sh

# ìë™ ìˆ˜ì • ì‹œë„
./scripts/check-clean.sh --fix
```

**ê²€ì‚¬ í•­ëª©:**

1. ì¶”ì ë˜ì§€ ì•Šì€ íŒŒì¼
2. ìˆ˜ì •ëœ íŒŒì¼
3. Staged íŒŒì¼
4. ì›ê²©ê³¼ ë™ê¸°í™” ìƒíƒœ
5. `data/` ë””ë ‰í† ë¦¬ ì¶”ì  ì—¬ë¶€

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë§¤ì¼ ì‘ì—… ì‹œì‘ ì „

-   [ ] `./scripts/sync.sh` ì‹¤í–‰ (ìµœì‹  ì½”ë“œ ë™ê¸°í™”)
-   [ ] `./scripts/server.sh dev restart` (ê°œë°œ ì„œë²„ ì‹œì‘)

### ì»¤ë°‹ ì „

-   [ ] `git status` í™•ì¸ (ì˜ë„í•˜ì§€ ì•Šì€ íŒŒì¼ í¬í•¨ ì—¬ë¶€)
-   [ ] `build/`, `.svelte-kit/`, `data/` íŒŒì¼ì´ ì—†ëŠ”ì§€ í™•ì¸
-   [ ] ë¹Œë“œ ì„±ê³µ í™•ì¸: `cd apps/web && pnpm build`

### ë°°í¬ ì „

-   [ ] `./scripts/check-clean.sh` ì‹¤í–‰
-   [ ] ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ ì»¤ë°‹ë˜ì—ˆëŠ”ì§€ í™•ì¸
-   [ ] `git push` ì™„ë£Œ
-   [ ] PR ë¨¸ì§€ ì™„ë£Œ

### ë°°í¬ í›„

-   [ ] `./scripts/server.sh web status` (í”„ë¡œë•ì…˜ ì„œë²„ í™•ì¸)
-   [ ] https://web.damoang.net ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

---

## ğŸ†˜ ê¸´ê¸‰ ë³µêµ¬

### ë¡œì»¬ ë³€ê²½ì‚¬í•­ì„ ì•ˆì „í•˜ê²Œ ë°±ì—… í›„ ì´ˆê¸°í™”

```bash
# 1. í˜„ì¬ ë³€ê²½ì‚¬í•­ ë°±ì—… (ë¸Œëœì¹˜ë¡œ ì €ì¥)
git checkout -b backup-$(date +%Y%m%d-%H%M%S)
git add -A
git commit -m "Backup before reset"

# 2. mainìœ¼ë¡œ ëŒì•„ê°€ì„œ ìµœì‹  ì½”ë“œë¡œ ì—…ë°ì´íŠ¸
git checkout main
./scripts/sync.sh main

# 3. í•„ìš”ì‹œ ë°±ì—… ë¸Œëœì¹˜ ë³µì›
# git checkout backup-YYYYMMDD-HHMMSS
```

âš ï¸ **ì¤‘ìš”**: `git reset --hard`ëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”! ë³µêµ¬ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

### ë°°í¬ê°€ ì‹¤íŒ¨í–ˆì„ ë•Œ

```bash
# ë¡œê·¸ í™•ì¸
tail -50 /tmp/angple-prod.log

# í”„ë¡œì„¸ìŠ¤ í™•ì¸
ps aux | grep node

# í¬íŠ¸ í™•ì¸
lsof -i:3010

# ì„œë²„ ì¬ì‹œì‘
./scripts/server.sh web restart
```

### Git ì¶©ëŒì´ ë³µì¡í•  ë•Œ

```bash
# ë°©ë²• 1: ë°±ì—… í›„ ìƒˆë¡œ ì‹œì‘ (ê¶Œì¥)
git checkout -b backup-$(date +%Y%m%d-%H%M%S)
git add -A
git commit -m "Backup before conflict resolution"
git checkout main
./scripts/sync.sh main

# ë°©ë²• 2: ë¡œì»¬ ë³€ê²½ ì»¤ë°‹ í›„ ì¬ì‹œë„
git add -A
git commit -m "WIP: ì‘ì—… ì¤‘"
git pull origin main --rebase

# ë°©ë²• 3: ì¶©ëŒ íŒŒì¼ë§Œ ì›ê²© ë²„ì „ìœ¼ë¡œ êµì²´
git fetch origin
git checkout origin/main -- path/to/conflicted/file
git add path/to/conflicted/file
git commit -m "chore: ì¶©ëŒ íŒŒì¼ ì›ê²© ë²„ì „ìœ¼ë¡œ êµì²´"
```

---

## ğŸ” ë””ë²„ê¹… ëª…ë ¹ì–´

```bash
# í˜„ì¬ Git ìƒíƒœ í™•ì¸
git status

# ì›ê²©ê³¼ ì°¨ì´ í™•ì¸
git fetch origin
git log HEAD..origin/main --oneline   # ì›ê²©ì´ ì•ì„  ì»¤ë°‹
git log origin/main..HEAD --oneline   # ë¡œì»¬ì´ ì•ì„  ì»¤ë°‹

# ì¶”ì  ì¤‘ì¸ íŒŒì¼ ëª©ë¡
git ls-files

# ì¶”ì ë˜ì§€ ì•Šì€ íŒŒì¼ ëª©ë¡
git ls-files --others --exclude-standard

# ë§ˆì§€ë§‰ 10ê°œ ì»¤ë°‹
git log -10 --oneline --graph

# íŠ¹ì • íŒŒì¼ì˜ ë³€ê²½ ì´ë ¥
git log --follow -- path/to/file

# Stash ëª©ë¡
git stash list

# ë¹Œë“œ íŒŒì¼ì´ Gitì— ìˆëŠ”ì§€ í™•ì¸
git ls-files | grep -E "build/|\.svelte-kit/"
```

---

## ğŸ“š ì¶”ê°€ ìë£Œ

-   [Git ê³µì‹ ë¬¸ì„œ](https://git-scm.com/doc)
-   [Atlassian Git íŠœí† ë¦¬ì–¼](https://www.atlassian.com/git/tutorials)
-   [GitHub Flow ê°€ì´ë“œ](https://guides.github.com/introduction/flow/)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-02-11
